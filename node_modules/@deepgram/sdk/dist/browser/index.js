var t={587:t=>{function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,i,r,n){i=i||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(i);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var h=t.length;o>0&&h>o&&(h=o);for(var u=0;u<h;++u){var c,l,d,p,_=t[u].replace(a,"%20"),v=_.indexOf(r);v>=0?(c=_.substr(0,v),l=_.substr(v+1)):(c=_,l=""),d=decodeURIComponent(c),p=decodeURIComponent(l),e(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},361:t=>{var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,r,n){return i=i||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var s=encodeURIComponent(e(n))+r;return Array.isArray(t[n])?t[n].map((function(t){return s+encodeURIComponent(e(t))})).join(i):s+encodeURIComponent(e(t[n]))})).join(i):n?encodeURIComponent(e(n))+r+encodeURIComponent(e(t)):""}},673:(t,e,i)=>{e.decode=e.parse=i(587),e.encode=e.stringify=i(361)}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};(()=>{i.d(r,{X:()=>m});var t=i(673);function e(t){return new Date(1e3*t).toISOString().substr(11,12)}class n{toWebVTT(){var t,i,r,n;if(!this.results||!this.results.utterances)throw new Error("This function requires a transcript that was generated with the utterances feature.");let s="WEBVTT\n\n";s+=`NOTE\nTranscription provided by Deepgram\nRequest Id: ${null===(t=this.metadata)||void 0===t?void 0:t.request_id}\nCreated: ${null===(i=this.metadata)||void 0===i?void 0:i.created}\nDuration: ${null===(r=this.metadata)||void 0===r?void 0:r.duration}\nChannels: ${null===(n=this.metadata)||void 0===n?void 0:n.channels}\n\n`;for(let t=0;t<this.results.utterances.length;t++){const i=this.results.utterances[t];s+=`${t+1}\n${e(i.start)} --\x3e ${e(i.end)}\n- ${i.transcript}\n\n`}return s}toSRT(){if(!this.results||!this.results.utterances)throw new Error("This function requires a transcript that was generated with the utterances feature.");let t="";for(let i=0;i<this.results.utterances.length;i++){const r=this.results.utterances[i];t+=`${i+1}\n${e(r.start).replace(".",",")} --\x3e ${e(r.end).replace(".",",")}\n${r.transcript}\n\n`}return t}}function s(){let t="@deepgram/sdk/UNKNOWN node/UNKNOWN";try{t=`@deepgram/sdk/1.21.0 node/${process.version.replace("v","")}`}catch(t){console.warn("Could not load package details")}return t}function a(t,e,i,r,n,a){return o=this,h=void 0,c=function*(){const o=`${r?"https":"http"}://${i}${n}`;try{const i=yield fetch(o,{method:t,headers:{Authorization:`token ${e}`,"Content-Type":"application/json","X-DG-Agent":s()},body:a});let r;if(!i.ok)throw r=yield i.json(),new Error(`${r.err_code}: ${r.err_msg}`);return r=yield i.json(),r}catch(t){throw`DG: ${t}`}},new((u=void 0)||(u=Promise))((function(t,e){function i(t){try{n(c.next(t))}catch(t){e(t)}}function r(t){try{n(c.throw(t))}catch(t){e(t)}}function n(e){var n;e.done?t(e.value):(n=e.value,n instanceof u?n:new u((function(t){t(n)}))).then(i,r)}n((c=c.apply(o,h||[])).next())}));var o,h,u,c}class o{constructor(t,e,i){this._credentials=t,this._apiUrl=e,this._requireSSL=i}preRecorded(e,i){return r=this,s=void 0,h=function*(){return yield((e,i,r,s,o)=>{return h=void 0,u=void 0,l=function*(){const h=Object.assign({},o);if(!s.url)throw new Error("DG: Source must be a URL string");const u=JSON.stringify(s),c=yield a("POST",e,i,r,`/v1/listen?${t.stringify(h)}`,u);return Object.assign(new n,c)},new((c=void 0)||(c=Promise))((function(t,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(e){var n;e.done?t(e.value):(n=e.value,n instanceof c?n:new c((function(t){t(n)}))).then(i,r)}n((l=l.apply(h,u||[])).next())}));var h,u,c,l})(this._credentials,this._apiUrl||"",this._requireSSL||!0,e,i)},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{a(h.next(t))}catch(t){e(t)}}function n(t){try{a(h.throw(t))}catch(t){e(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(i,n)}a((h=h.apply(r,s||[])).next())}));var r,s,o,h}live(e){const i=this._requireSSL?"wss":"ws";return new WebSocket(`${i}://${this._apiUrl}/v1/listen?${t.stringify(e)}`,["token",this._credentials])}}var h=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class u{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}list(){return h(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,this.apiPath)}))}get(t){return h(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}`)}))}update(t,e){return h(this,void 0,void 0,(function*(){return this._request("PATCH",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t.project_id}`,JSON.stringify(e))}))}delete(t){return h(this,void 0,void 0,(function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}`)}))}}var c=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class l{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}list(t){return c(this,void 0,void 0,(function*(){return{api_keys:(yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/keys`)).api_keys.map((t=>Object.assign(Object.assign({},t),t.api_key)))}}))}get(t,e){return c(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/keys/${e}`)}))}create(t,e,i,r){return c(this,void 0,void 0,(function*(){if(r&&void 0!==r.expirationDate&&void 0!==r.timeToLive)throw new Error("Please provide expirationDate or timeToLive or neither. Providing both is not allowed.");return this._request("POST",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/keys`,JSON.stringify({comment:e,scopes:i,expiration_date:r&&r.expirationDate?r.expirationDate:void 0,time_to_live_in_seconds:r&&r.timeToLive?r.timeToLive:void 0}))}))}delete(t,e){return c(this,void 0,void 0,(function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/keys/${e}`)}))}}var d=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class p{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}listRequests(e,i){return d(this,void 0,void 0,(function*(){const r=Object.assign({},i);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${e}/requests?${t.stringify(r)}`)}))}getRequest(t,e){return d(this,void 0,void 0,(function*(){return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/requests/${e}`)}))}getUsage(e,i){return d(this,void 0,void 0,(function*(){const r=Object.assign({},i);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${e}/usage?${t.stringify(r)}`)}))}getFields(e,i){return d(this,void 0,void 0,(function*(){const r=Object.assign({},i);return yield this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${e}/usage/fields?${t.stringify(r)}`)}))}}var _=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class v{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}listMembers(t){return _(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/members`)}))}removeMember(t,e){return _(this,void 0,void 0,(function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/members/${e}`)}))}}var f=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class S{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}list(t){return f(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/invites`)}))}send(t,e){return f(this,void 0,void 0,(function*(){return this._request("POST",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/invites`,JSON.stringify({email:e.email,scope:e.scope}))}))}leave(t){return f(this,void 0,void 0,(function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/leave`)}))}delete(t,e){return f(this,void 0,void 0,(function*(){return this._request("DELETE",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/invites/${e}`)}))}}var y=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class q{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}listBalances(t){return y(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/balances`)}))}getBalance(t,e){return y(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/balances/${e}`)}))}}var $=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function a(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((r=r.apply(t,e||[])).next())}))};class w{constructor(t,e,i,r){this._credentials=t,this._apiUrl=e,this._requireSSL=i,this._request=r,this.apiPath="/v1/projects"}get(t,e){return $(this,void 0,void 0,(function*(){return this._request("GET",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/members/${e}/scopes`)}))}update(t,e,i){return $(this,void 0,void 0,(function*(){return this._request("PUT",this._credentials,this._apiUrl,this._requireSSL,`${this.apiPath}/${t}/members/${e}/scopes`,JSON.stringify({scope:i}))}))}}class m{constructor(t,e,i){console.warn("Deepgram Browser SDK will be deprecated in the future and is no longer receiving support. Please use the Node SDK instead in your backend code and connect to it."),this._apiKey=t,this._apiUrl=e||"api.deepgram.com",this._requireSSL=i||true,function(t,e){if(!t||0===t.trim().length)throw new Error("DG: API key is required");if(!e||0===e.trim().length)throw new Error("DG: API url should be a valid url or not provided")}(this._apiKey,this._apiUrl),this.transcription=new o(this._apiKey,this._apiUrl,this._requireSSL),this.projects=new u(this._apiKey,this._apiUrl,this._requireSSL,a),this.keys=new l(this._apiKey,this._apiUrl,this._requireSSL,a),this.usage=new p(this._apiKey,this._apiUrl,this._requireSSL,a),this.members=new v(this._apiKey,this._apiUrl,this._requireSSL,a),this.invitation=new S(this._apiKey,this._apiUrl,this._requireSSL,a),this.billing=new q(this._apiKey,this._apiUrl,this._requireSSL,a),this.scopes=new w(this._apiKey,this._apiUrl,this._requireSSL,a)}}})();var n=r.X;export{n as Deepgram};